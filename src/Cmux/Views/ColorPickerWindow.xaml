<Window x:Class="Cmux.Views.ColorPickerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Accent Color" Height="360" Width="420"
        WindowStartupLocation="CenterOwner"
        WindowStyle="None" AllowsTransparency="True"
        Background="Transparent"
        ResizeMode="NoResize">

    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="32" CornerRadius="0" GlassFrameThickness="0"
                      ResizeBorderThickness="0" />
    </WindowChrome.WindowChrome>

    <Border Background="{StaticResource BackgroundBrush}"
            CornerRadius="{StaticResource WindowCornerRadius}"
            BorderBrush="{StaticResource BorderBrush}" BorderThickness="1">
        <Border.Effect>
            <DropShadowEffect BlurRadius="20" ShadowDepth="4" Color="#000000" Opacity="0.4" Direction="270" />
        </Border.Effect>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="32" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <!-- Title bar -->
            <Border Grid.Row="0" Background="{StaticResource SidebarBackgroundBrush}"
                    CornerRadius="10,10,0,0"
                    BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,0,0,1">
                <Grid>
                    <TextBlock Text="Accent Color" Foreground="{StaticResource ForegroundDimBrush}"
                               FontSize="12" VerticalAlignment="Center" Margin="14,0,0,0" />
                    <Button Style="{StaticResource WindowCloseButton}" HorizontalAlignment="Right"
                            WindowChrome.IsHitTestVisibleInChrome="True"
                            Click="Cancel_Click" Width="38" Height="32">
                        <TextBlock Text="&#xE8BB;" FontFamily="Segoe MDL2 Assets" FontSize="9" />
                    </Button>
                </Grid>
            </Border>

            <!-- Content -->
            <Grid Grid.Row="1" Margin="14">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0" Text="Workspace Accent Color"
                           Foreground="{StaticResource ForegroundBrush}" FontWeight="SemiBold" FontSize="15" />

                <Border Grid.Row="1" Margin="0,12,0,10" Height="46" CornerRadius="6"
                        BorderBrush="{StaticResource BorderBrush}" BorderThickness="1"
                        Background="{Binding ElementName=PreviewBrushHost, Path=Background}">
                    <Grid x:Name="PreviewBrushHost" Background="#FF818CF8">
                        <TextBlock Text="Preview" Foreground="White" FontWeight="SemiBold"
                                   HorizontalAlignment="Center" VerticalAlignment="Center" />
                    </Grid>
                </Border>

                <Grid Grid.Row="2" Margin="0,2,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="20" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="52" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" Text="R" Foreground="{StaticResource ForegroundDimBrush}" VerticalAlignment="Center" />
                    <Slider x:Name="RSlider" Grid.Column="1" Minimum="0" Maximum="255" TickFrequency="1" IsSnapToTickEnabled="True" ValueChanged="Slider_ValueChanged" />
                    <TextBlock x:Name="RText" Grid.Column="2" Foreground="{StaticResource ForegroundBrush}" VerticalAlignment="Center" HorizontalAlignment="Right" />
                </Grid>

                <Grid Grid.Row="3" Margin="0,6,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="20" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="52" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" Text="G" Foreground="{StaticResource ForegroundDimBrush}" VerticalAlignment="Center" />
                    <Slider x:Name="GSlider" Grid.Column="1" Minimum="0" Maximum="255" TickFrequency="1" IsSnapToTickEnabled="True" ValueChanged="Slider_ValueChanged" />
                    <TextBlock x:Name="GText" Grid.Column="2" Foreground="{StaticResource ForegroundBrush}" VerticalAlignment="Center" HorizontalAlignment="Right" />
                </Grid>

                <Grid Grid.Row="4" Margin="0,6,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="20" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="52" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" Text="B" Foreground="{StaticResource ForegroundDimBrush}" VerticalAlignment="Center" />
                    <Slider x:Name="BSlider" Grid.Column="1" Minimum="0" Maximum="255" TickFrequency="1" IsSnapToTickEnabled="True" ValueChanged="Slider_ValueChanged" />
                    <TextBlock x:Name="BText" Grid.Column="2" Foreground="{StaticResource ForegroundBrush}" VerticalAlignment="Center" HorizontalAlignment="Right" />
                </Grid>

                <StackPanel Grid.Row="5" Orientation="Horizontal" Margin="0,12,0,0" VerticalAlignment="Top">
                    <TextBlock Text="Hex" Foreground="{StaticResource ForegroundDimBrush}" VerticalAlignment="Center" Margin="0,0,8,0" />
                    <TextBox x:Name="HexBox" Width="160" Style="{StaticResource CmuxTextBox}"
                             TextChanged="HexBox_TextChanged" />
                </StackPanel>

                <StackPanel Grid.Row="6" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                    <Button Content="Cancel" Style="{StaticResource CmuxButton}" Padding="12,6" Margin="0,0,8,0" Click="Cancel_Click" />
                    <Button Content="Apply" Style="{StaticResource AccentButton}" Padding="14,6" Click="Apply_Click" />
                </StackPanel>
            </Grid>
        </Grid>
    </Border>
</Window>
